<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Leap & Learn: Final Studio</title>
<style>
  /* --- –°–¢–ò–õ–ò –¢–í–û–ï–ì–û –†–ï–î–ê–ö–¢–û–†–ê (1 –≤ 1) --- */
  :root { --primary: #7cf9ff; --dark: #0a1730; --panel: #142342; --text: #eaf6ff; --accent: #4dff88; --err: #ff3b3b; }
  body { margin:0; display:flex; height:100vh; background: #050b1a; color: var(--text); font-family: 'Segoe UI', sans-serif; overflow:hidden; }
  
  /* –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ */
  #EDITOR { width: 480px; min-width: 480px; background: var(--dark); border-right: 1px solid #333; display:flex; flex-direction:column; z-index:10; box-shadow: 5px 0 20px rgba(0,0,0,0.5); }
  
  /* –®–ê–ü–ö–ê */
  .header { padding:15px 20px; background:var(--panel); border-bottom:1px solid #333; display:flex; justify-content:space-between; align-items:center; }
  .header h2 { margin:0; font-size:16px; color:var(--primary); letter-spacing:1px; text-transform:uppercase; }
  
  /* –¢–ê–ë–´ */
  .tabs { display:flex; background:#000; border-bottom:1px solid #333; }
  .tab { flex:1; padding:15px 0; text-align:center; font-size:11px; font-weight:bold; cursor:pointer; opacity:0.6; transition:0.3s; border-bottom:3px solid transparent; color:#fff; text-transform:uppercase; }
  .tab:hover { opacity:1; background:rgba(255,255,255,0.05); }
  .tab.active { opacity:1; border-bottom-color:var(--primary); background:rgba(124,249,255,0.1); color:var(--primary); }
  
  /* –û–ë–õ–ê–°–¢–¨ –ù–ê–°–¢–†–û–ï–ö */
  .scroll-area { flex:1; overflow-y:auto; padding:20px; scrollbar-width: thin; scrollbar-color: #334155 var(--dark); }
  .group { background:var(--panel); border:1px solid #2a3b5a; border-radius:8px; padding:15px; margin-bottom:15px; position:relative; }
  .group h3 { margin:0 0 15px 0; font-size:12px; color:var(--primary); border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:8px; text-transform:uppercase; letter-spacing:0.5px; }
  
  /* –≠–õ–ï–ú–ï–ù–¢–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø */
  label { display:block; font-size:11px; color:#94a3b8; margin-bottom:5px; margin-top:10px; }
  label:first-of-type { margin-top:0; }
  input, select, textarea { width:100%; box-sizing:border-box; background:#050b1a; border:1px solid #334155; color:#fff; padding:10px; border-radius:6px; font-size:13px; font-family:'Courier New', monospace; transition:0.2s; }
  input:focus, textarea:focus { border-color:var(--primary); outline:none; background:#0f172a; }
  input[type="color"] { height:40px; padding:2px; cursor:pointer; }
  
  .row { display:flex; gap:10px; align-items:center; }
  
  /* –ö–ù–û–ü–ö–ò */
  .btn { width:100%; padding:12px; background:var(--primary); color:#000; border:none; border-radius:6px; cursor:pointer; font-weight:bold; font-size:12px; text-transform:uppercase; transition:0.2s; margin-top:10px; }
  .btn:hover { filter:brightness(1.1); box-shadow: 0 0 15px rgba(124,249,255,0.2); }
  .btn-copy { width:auto; padding:6px 15px; background:#fff; font-size:11px; }
  .btn-del { background:var(--err); color:#fff; width:30px; margin:0; padding:5px; display:flex; align-items:center; justify-content:center; }
  .btn-edit { background:#334155; color:#fff; width:auto; margin:0; padding:5px 10px; font-size:11px; }

  /* –ü–†–ï–í–¨–Æ */
  #PREVIEW { flex:1; background:#000; position:relative; display:flex; flex-direction:column; }
  iframe { width:100%; height:100%; border:none; display:block; }
  
  /* –ú–û–î–ê–õ–ö–ê (–†–ï–î–ê–ö–¢–û–† –£–†–û–í–ù–Ø) */
  #MODAL { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.95); z-index:1000; align-items:center; justify-content:center; backdrop-filter:blur(5px); }
  .modal-box { width:900px; height:85vh; background:var(--panel); border:2px solid var(--primary); padding:0; display:flex; flex-direction:column; border-radius:12px; overflow:hidden; box-shadow:0 0 50px rgba(0,0,0,0.5); }
  .modal-head { padding:15px 20px; background:#000; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #333; }
  .modal-body { flex:1; display:flex; gap:20px; padding:20px; }
  .col { flex:1; display:flex; flex-direction:column; }
  .col textarea { flex:1; resize:none; line-height:1.6; font-size:14px; }
  .modal-foot { padding:15px 20px; background:#000; border-top:1px solid #333; display:flex; justify-content:flex-end; gap:10px; }
</style>
</head>
<body>

<div id="EDITOR">
  <div class="header">
    <h2>Leap & Learn <span style="font-size:10px; opacity:0.5; margin-left:5px">v3.0 FINAL</span></h2>
    <button class="btn btn-copy" onclick="copyCode()">üìã HTML</button>
  </div>
  
  <div class="tabs">
    <div class="tab active" onclick="setTab('main', this)">–ì–ª–∞–≤–Ω–∞—è</div>
    <div class="tab" onclick="setTab('viz', this)">–í–∏–∑—É–∞–ª</div>
    <div class="tab" onclick="setTab('lvls', this)">–£—Ä–æ–≤–Ω–∏</div>
  </div>

  <div class="scroll-area">
    <div id="t-main" class="pane">
      <div class="group">
        <h3>‚öôÔ∏è –ì–µ–π–º–ø–ª–µ–π</h3>
        <div class="row">
          <div style="flex:1"><label>–í—Ä–µ–º—è (—Å–µ–∫)</label><input type="number" id="g_time" value="15" oninput="upd()"></div>
          <div style="flex:1"><label>–ñ–∏–∑–Ω–∏</label><input type="number" id="g_lives" value="3" oninput="upd()"></div>
        </div>
      </div>
      <div class="group">
        <h3>üîä –ê—É–¥–∏–æ (MP3 URL)</h3>
        <label>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</label>
        <input type="text" id="s_ok" oninput="upd()">
        <label>–û—à–∏–±–∫–∞</label>
        <input type="text" id="s_no" oninput="upd()">
        <label>–ü–æ–±–µ–¥–∞ / –§–∏–Ω–∞–ª</label>
        <input type="text" id="s_win" oninput="upd()">
      </div>
    </div>

    <div id="t-viz" class="pane" style="display:none">
      <div class="group">
        <h3>üé® –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h3>
        <label>–§–æ–Ω (URL)</label>
        <input type="text" id="bg_url" value="https://img.genially.com/67961b32a116fb001568a75e/c0c9010f-c3dd-42c1-b7c1-65024fa3aec6.png" oninput="upd()">
        <label>–ì–µ—Ä–æ–π (URL)</label>
        <input type="text" id="h_url" value="https://img.genially.com/67961b32a116fb001568a75e/3074df22-5c73-4ad2-b0b2-491c6fc247f3.png" oninput="upd()">
        <label>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (URL)</label>
        <input type="text" id="p_url" value="https://img.genially.com/67961b32a116fb001568a75e/ed6c6e82-953b-43d4-947d-e46227b760f0.png" oninput="upd()">
      </div>
      <div class="group">
        <h3>‚úèÔ∏è –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è</h3>
        <div class="row">
          <div style="flex:1">
             <label>–¶–≤–µ—Ç UI</label>
             <input type="color" id="c_ui" value="#7cf9ff" oninput="upd()">
          </div>
          <div style="flex:1">
             <label>–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞</label>
             <input type="number" id="f_size" value="32" oninput="upd()">
          </div>
        </div>
      </div>
    </div>

    <div id="t-lvls" class="pane" style="display:none">
      <div id="lvl-list"></div>
      <button class="btn" onclick="addLvl()" style="background:var(--accent); color:#000">+ –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
    </div>
  </div>
</div>

<div id="PREVIEW">
  <iframe id="gameFrame"></iframe>
</div>

<div id="MODAL">
  <div class="modal-box">
    <div class="modal-head">
      <h3 style="color:var(--primary); margin:0">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è</h3>
      <button style="background:none; border:none; color:#fff; cursor:pointer" onclick="closeModal()">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="col">
        <label style="color:var(--primary)">–í–û–ü–†–û–°–´ (–ö–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)</label>
        <textarea id="m_q" placeholder="2 + 2 = ?"></textarea>
      </div>
      <div class="col">
        <label style="color:var(--primary)">–û–¢–í–ï–¢–´ (–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π|–ù–µ–≤–µ—Ä–Ω—ã–π|–ù–µ–≤–µ—Ä–Ω—ã–π)</label>
        <textarea id="m_a" placeholder="4|5|1"></textarea>
      </div>
    </div>
    <div class="modal-foot">
      <button class="btn" style="width:auto; background:#333; color:#fff" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn" style="width:auto" onclick="saveLvl()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>
</div>

<script>
// --- –õ–û–ì–ò–ö–ê –†–ï–î–ê–ö–¢–û–†–ê ---
let levels = [
  { name: "–£—Ä–æ–≤–µ–Ω—å 1", q: ["2 + 2 = ?", "–°—Ç–æ–ª–∏—Ü–∞ –§—Ä–∞–Ω—Ü–∏–∏?"], a: ["4|5|1", "–ü–∞—Ä–∏–∂|–õ–æ–Ω–¥–æ–Ω|–ë–µ—Ä–ª–∏–Ω"] }
];
let actIdx = 0;

function setTab(name, el){
  document.querySelectorAll('.pane').forEach(p=>p.style.display='none');
  document.getElementById('t-'+name).style.display='block';
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
}

function renderLvl(){
  const c = document.getElementById('lvl-list'); c.innerHTML='';
  levels.forEach((l,i)=>{
    const d = document.createElement('div'); d.className='group';
    d.innerHTML = `
      <div class="row" style="justify-content:space-between">
        <span style="font-weight:bold; color:#fff">${l.name}</span>
        <div class="row" style="gap:5px">
           <button class="btn btn-edit" onclick="editLvl(${i})">–ò–ó–ú–ï–ù–ò–¢–¨</button>
           <button class="btn btn-del" onclick="delLvl(${i})">‚úï</button>
        </div>
      </div>
      <div style="font-size:10px; margin-top:5px; opacity:0.6">${l.q.length} –≤–æ–ø—Ä–æ—Å–æ–≤</div>
    `;
    c.appendChild(d);
  });
  upd();
}

function addLvl(){ levels.push({name:"–£—Ä–æ–≤–µ–Ω—å "+(levels.length+1), q:["?"], a:["Ok|No|No"]}); renderLvl(); }
function delLvl(i){ if(levels.length>1 && confirm("–£–¥–∞–ª–∏—Ç—å?")){ levels.splice(i,1); renderLvl(); } }
function editLvl(i){ actIdx=i; document.getElementById('m_q').value=levels[i].q.join('\n'); document.getElementById('m_a').value=levels[i].a.join('\n'); document.getElementById('MODAL').style.display='flex'; }
function closeModal(){ document.getElementById('MODAL').style.display='none'; }
function saveLvl(){ 
  levels[actIdx].q=document.getElementById('m_q').value.split('\n').filter(x=>x.trim()); 
  levels[actIdx].a=document.getElementById('m_a').value.split('\n').filter(x=>x.trim()); 
  closeModal(); renderLvl(); 
}
function copyCode(){ navigator.clipboard.writeText(getGameCode()).then(()=>alert("–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!")); }
function upd(){ document.getElementById('gameFrame').srcdoc = getGameCode(); }

// --- –ì–ï–ù–ï–†–ê–¢–û–† –ò–ì–†–´ (–í–°–¢–ê–í–õ–Ø–ï–ú –¢–í–û–Æ –°–õ–û–ñ–ù–£–Æ –õ–û–ì–ò–ö–£) ---
function getGameCode(){
  const C = {
    bg: document.getElementById('bg_url').value,
    hero: document.getElementById('h_url').value,
    plat: document.getElementById('p_url').value,
    ui: document.getElementById('c_ui').value,
    fs: document.getElementById('f_size').value,
    tm: document.getElementById('g_time').value,
    lv: document.getElementById('g_lives').value,
    snd: { ok: document.getElementById('s_ok').value, no: document.getElementById('s_no').value, win: document.getElementById('s_win').value },
    levels: levels
  };

  return `<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
  :root { --main: ${C.ui}; }
  body { margin:0; overflow:hidden; background:#000; font-family:'Segoe UI',sans-serif; user-select:none; }
  
  /* –ò–ì–†–û–í–û–ô –ú–ò–† */
  #GAME { position:absolute; inset:0; background:url('${C.bg}') center/cover no-repeat; z-index:1; transition: transform 0.1s; }
  #GAME.shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
  
  /* HUD */
  #HUD { position:absolute; top:20px; left:20px; display:flex; gap:15px; z-index:10; }
  .hud-item { background:rgba(0,0,0,0.8); border:2px solid var(--main); color:#fff; padding:8px 20px; border-radius:30px; font-weight:bold; font-size:20px; box-shadow:0 0 15px var(--main); min-width:60px; text-align:center; }
  
  /* –û–ë–™–ï–ö–¢–´ */
  #Q { position:absolute; top:18%; width:100%; text-align:center; color:#fff; font-size:${C.fs}px; font-weight:900; text-shadow:0 3px 8px #000; z-index:5; padding:0 50px; box-sizing:border-box; }
  
  #HERO { position:absolute; bottom:22%; left:10%; width:120px; height:120px; background:url('${C.hero}') center/contain no-repeat; z-index:6; transition: bottom 0.3s ease-out, left 0.3s linear; }
  
  #PLATFORMS { position:absolute; bottom:22%; left:0; width:100%; display:flex; justify-content:center; gap:60px; z-index:5; }
  .plat { width:160px; height:90px; background:url('${C.plat}') center/contain no-repeat; display:flex; align-items:center; justify-content:center; color:#000; font-weight:bold; font-size:18px; cursor:pointer; padding-top:15px; text-align:center; transition:0.2s; }
  .plat:hover { transform:scale(1.1) translateY(-5px); filter:brightness(1.1); }
  .plat:active { transform:scale(0.9); }

  /* –≠–ö–†–ê–ù–´ */
  .screen { position:fixed; inset:0; background:rgba(0,0,0,0.95); display:flex; flex-direction:column; align-items:center; justify-content:center; z-index:100; opacity:0; pointer-events:none; transition:0.5s; }
  .screen.active { opacity:1; pointer-events:auto; }
  
  .card { background:#142342; border:2px solid var(--main); padding:40px; border-radius:20px; text-align:center; width:500px; box-shadow:0 0 40px rgba(124,249,255,0.15); }
  h1 { color:var(--main); margin:0 0 20px 0; font-size:32px; text-transform:uppercase; letter-spacing:2px; }
  
  .table { width:100%; margin:20px 0; background:rgba(0,0,0,0.3); padding:15px; border-radius:10px; }
  .row { display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid rgba(255,255,255,0.1); color:#fff; font-size:18px; }
  .row.tot { border-top:2px solid var(--main); border-bottom:none; margin-top:10px; padding-top:10px; color:var(--main); font-weight:bold; font-size:24px; }

  button.big { background:var(--main); border:none; padding:15px 40px; font-size:20px; font-weight:bold; border-radius:50px; cursor:pointer; margin-top:20px; text-transform:uppercase; transition:0.3s; }
  button.big:hover { transform:scale(1.05); box-shadow:0 0 20px var(--main); }

  /* –≠–§–§–ï–ö–¢–´ */
  #FX { position:fixed; inset:0; pointer-events:none; z-index:9999; }
  @keyframes shake { 10%, 90% { transform: translate3d(-2px, 0, 0); } 20%, 80% { transform: translate3d(4px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-6px, 0, 0); } 40%, 60% { transform: translate3d(6px, 0, 0); } }
</style>
</head>
<body>

<div id="GAME">
  <div id="HUD">
    <div class="hud-item">‚ù§Ô∏è <span id="v_live"></span></div>
    <div class="hud-item">‚è±Ô∏è <span id="v_time"></span></div>
    <div class="hud-item">‚≠ê <span id="v_score">0</span></div>
  </div>
  <div id="Q"></div>
  <div id="HERO"></div>
  <div id="PLATFORMS"></div>
</div>

<div id="S_START" class="screen active">
  <div class="card">
    <h1>Leap & Learn</h1>
    <p style="color:#aaa; margin-bottom:30px">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç –≥–µ—Ä–æ—é –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥.</p>
    <button class="big" onclick="G.start()">–ù–ê–ß–ê–¢–¨</button>
  </div>
</div>

<div id="S_LVL" class="screen">
  <div class="card">
    <h1>–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h1>
    <div class="table" id="lvl_stat"></div>
    <button class="big" onclick="G.nextLvl()">–î–∞–ª–µ–µ</button>
  </div>
</div>

<div id="S_END" class="screen">
  <div class="card">
    <h1 id="end_t"></h1>
    <div class="table" id="end_stat"></div>
    <button class="big" onclick="location.reload()">–ú–µ–Ω—é</button>
  </div>
</div>

<canvas id="FX"></canvas>

<script>
const D = ${JSON.stringify(C)};
const SND = { ok: new Audio(D.snd.ok), no: new Audio(D.snd.no), win: new Audio(D.snd.win) };

// --- PARTICLES ENGINE (–°–ê–õ–Æ–¢–´) ---
const cvs = document.getElementById('FX'), ctx = cvs.getContext('2d');
let parts = [];
function resize(){ cvs.width=window.innerWidth; cvs.height=window.innerHeight; }
window.onresize=resize; resize();

function spawn(x, y, n=20){
  const cols=['#f0f','#0ff','#ff0','#0f0','#f00'];
  for(let i=0;i<n;i++){
    parts.push({
      x, y, vx:(Math.random()-0.5)*15, vy:(Math.random()-0.5)*15,
      life:1, color:cols[Math.floor(Math.random()*cols.length)]
    });
  }
}
function loop(){
  ctx.clearRect(0,0,cvs.width,cvs.height);
  for(let i=parts.length-1;i>=0;i--){
    let p=parts[i]; p.x+=p.vx; p.y+=p.vy; p.vy+=0.5; p.life-=0.02;
    ctx.globalAlpha=p.life; ctx.fillStyle=p.color;
    ctx.beginPath(); ctx.arc(p.x,p.y,3,0,6.28); ctx.fill();
    if(p.life<=0) parts.splice(i,1);
  }
  requestAnimationFrame(loop);
}
loop();

// --- GAME LOGIC ---
const G = {
  li:0, qi:0, sc:0, lvs:0, tm:0, tmr:null,
  lsc:0, // –û—á–∫–∏ —É—Ä–æ–≤–Ω—è
  
  start(){
    document.getElementById('S_START').classList.remove('active');
    this.li=0; this.sc=0; this.lvs=parseInt(D.lv);
    this.startLvl();
  },
  
  startLvl(){
    this.qi=0; this.lsc=0;
    this.nextQ();
  },
  
  nextQ(){
    clearInterval(this.tmr);
    const lvl = D.levels[this.li];
    if(!lvl) return this.end(true);
    
    // UI
    document.getElementById('v_live').innerText = this.lvs;
    document.getElementById('v_score').innerText = this.sc;
    document.getElementById('Q').innerText = lvl.q[this.qi];
    
    // Platforms
    const pbox = document.getElementById('PLATFORMS'); pbox.innerHTML='';
    const ans = lvl.a[this.qi].split('|').map((t,i)=>({t, ok:i===0})).sort(()=>Math.random()-0.5);
    
    ans.forEach(a=>{
      const el = document.createElement('div');
      el.className='plat'; el.innerText=a.t;
      el.onclick=(e)=>this.check(a.ok, e.clientX, e.clientY);
      pbox.appendChild(el);
    });
    
    // Timer
    this.tm = parseInt(D.tm);
    document.getElementById('v_time').innerText = this.tm;
    this.tmr = setInterval(()=>{
      this.tm--;
      document.getElementById('v_time').innerText = this.tm;
      if(this.tm<=0) this.check(false);
    },1000);
  },
  
  check(ok, x, y){
    clearInterval(this.tmr);
    if(ok){
      if(SND.ok) SND.ok.play();
      if(x) spawn(x,y);
      
      const bon = 100 + (this.tm * 10);
      this.lsc += bon; this.sc += bon;
      
      this.qi++;
      if(this.qi >= D.levels[this.li].q.length) this.winLvl();
      else this.nextQ();
      
    } else {
      if(SND.no) SND.no.play();
      const g = document.getElementById('GAME');
      g.classList.remove('shake'); void g.offsetWidth; g.classList.add('shake');
      
      this.lvs--;
      document.getElementById('v_live').innerText = this.lvs;
      if(this.lvs<=0) this.end(false);
      else this.nextQ();
    }
  },
  
  winLvl(){
    const lbon = this.lvs * 100;
    const tot = this.lsc + lbon;
    this.sc += lbon;
    
    document.getElementById('lvl_stat').innerHTML = \`
      <div class="row"><span>–ó–∞ –æ—Ç–≤–µ—Ç—ã:</span><span>\${this.lsc}</span></div>
      <div class="row"><span>–ñ–∏–∑–Ω–∏:</span><span>+\${lbon}</span></div>
      <div class="row tot"><span>–ò–¢–û–ì–û:</span><span>\${tot}</span></div>
    \`;
    document.getElementById('S_LVL').classList.add('active');
    
    let fw = setInterval(()=>spawn(Math.random()*cvs.width, Math.random()*cvs.height*0.6, 30), 300);
    setTimeout(()=>clearInterval(fw), 2000);
  },
  
  nextLvl(){
    document.getElementById('S_LVL').classList.remove('active');
    this.li++;
    if(this.li >= D.levels.length) this.end(true);
    else this.startLvl();
  },
  
  end(win){
    document.getElementById('S_LVL').classList.remove('active');
    document.getElementById('S_END').classList.add('active');
    const t = document.getElementById('end_t');
    t.innerText = win ? "–ü–û–ë–ï–î–ê!" : "–§–ò–ù–ê–õ";
    t.style.color = win ? "#ffd700" : "#ff3b3b";
    
    document.getElementById('end_stat').innerHTML = \`
       <div class="row"><span>–£—Ä–æ–≤–µ–Ω—å:</span><span>\${this.li + (win?0:1)} / \${D.levels.length}</span></div>
       <div class="row tot"><span>–°–ß–ï–¢:</span><span>\${this.sc}</span></div>
    \`;
    
    if(win){
      if(SND.win) SND.win.play();
      setInterval(()=>spawn(Math.random()*cvs.width, Math.random()*cvs.height, 40), 500);
    }
  }
};
<\/script>
</body>
</html>`;
}
renderLvl();
</script>
</body>
</html>
