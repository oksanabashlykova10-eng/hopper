<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Leap and Learn - Editor</title>
    <style>
        :root {
            --accent: #7cf9ff;
            --bg: #1a1a2e;
            --panel: #16213e;
        }
        body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; height: 100vh; background: var(--bg); color: white; overflow: hidden; }
        
        /* Sidebar */
        #sidebar { width: 400px; background: var(--panel); padding: 20px; overflow-y: auto; border-right: 2px solid var(--accent); }
        h2 { color: var(--accent); text-transform: uppercase; letter-spacing: 2px; }
        .section { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        label { display: block; margin: 10px 0 5px; font-size: 14px; }
        input[type="color"], input[type="text"], input[type="number"], select { width: 100%; padding: 8px; border-radius: 5px; border: none; background: #0f3460; color: white; }
        
        /* Preview */
        #preview-container { flex-grow: 1; display: flex; flex-direction: column; background: #000; position: relative; }
        #game-frame { width: 100%; height: 100%; border: none; }
        .toolbar { padding: 10px; background: #0f3460; display: flex; justify-content: space-between; }
        
        .btn { background: var(--accent); color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .btn:hover { opacity: 0.8; }
        .btn-add { background: #4ecca3; margin-top: 10px; }
        
        .level-item { background: #1a1a2e; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid var(--accent); }
        .neon-toggle { display: flex; align-items: center; gap: 10px; }
    </style>
</head>
<body>

<div id="sidebar">
    <h2>Leap & Learn Editor</h2>
    
    <div class="section">
        <h3>üé® –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h3>
        <label>–§–æ–Ω –ª–æ–∫–∞—Ü–∏–∏</label>
        <select id="bgSelect" onchange="updatePreview()">
            <option value="https://img.genially.com/67961b32a116fb001568a75e/c0c9010f-c3dd-42c1-b7c1-65024fa3aec6.png">–†–µ–∫–∞</option>
            <option value="https://img.genially.com/67961b32a116fb001568a75e/fa2ab459-fec9-4ccd-97e3-254427b4ade0.png">–õ–∞–≤–∞</option>
            <option value="https://img.genially.com/67961b32a116fb001568a75e/02b52ad4-9d31-4b21-a305-8fec6e8a4487.png">–ë–æ–ª–æ—Ç–æ</option>
            <option value="custom">–°–≤–æ–π —Ñ–æ–Ω (URL)</option>
        </select>
        <input type="text" id="customBg" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É" style="display:none; margin-top:5px" oninput="updatePreview()">
        
        <label>–ü–µ—Ä—Å–æ–Ω–∞–∂</label>
        <select id="charSelect" onchange="updatePreview()">
            <option value="https://img.genially.com/67961b32a116fb001568a75e/3074df22-5c73-4ad2-b0b2-491c6fc247f3.png">–õ—è–≥—É—à–∫–∞</option>
            <option value="https://img.genially.com/67961b32a116fb001568a75e/74b56fcf-5354-43dd-9c9a-f50facc9a9bf.png">–•–∞–º–µ–ª–µ–æ–Ω</option>
            <option value="https://img.genially.com/67961b32a116fb001568a75e/0feda2a1-485a-4654-8640-bf1adcc9f9ec.png">–Ø—â–µ—Ä–∏—Ü–∞</option>
        </select>

        <label>–¶–≤–µ—Ç –ø–∞–Ω–µ–ª–µ–π</label>
        <input type="color" id="panelColor" value="#0a1432" onchange="updatePreview()">
        
        <div class="neon-toggle">
            <label>–ù–µ–æ–Ω–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞</label>
            <input type="checkbox" id="neonGlow" checked onchange="updatePreview()">
        </div>
    </div>

    <div class="section">
        <h3>üìù –¢–µ–∫—Å—Ç –∏ –®—Ä–∏—Ñ—Ç</h3>
        <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</label>
        <input type="color" id="fontColor" value="#eaf6ff" onchange="updatePreview()">
        <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ (px)</label>
        <input type="number" id="fontSize" value="26" onchange="updatePreview()">
        <label>–ù–∞–¥–ø–∏—Å—å –ø–æ–±–µ–¥—ã</label>
        <input type="text" id="winText" value="–ü–û–ë–ï–î–ê!" oninput="updatePreview()">
        <label>–ù–∞–¥–ø–∏—Å—å –ø—Ä–æ–≤–∞–ª–∞</label>
        <input type="text" id="loseText" value="–ü–û–ü–†–û–ë–£–ô –ï–©–ï!" oninput="updatePreview()">
    </div>

    <div class="section">
        <h3>üéÆ –£—Ä–æ–≤–Ω–∏ –∏ –°–ª–æ–∂–Ω–æ—Å—Ç—å</h3>
        <label>–í—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç (—Å–µ–∫)</label>
        <input type="number" id="gameTimer" value="10" onchange="updatePreview()">
        <div id="levelsList">
            </div>
        <button class="btn btn-add" onclick="addLevel()">+ –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
    </div>
</div>

<div id="preview-container">
    <div class="toolbar">
        <span>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä (Leap and Learn)</span>
        <button class="btn" onclick="copyCode()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏–≥—Ä—ã</button>
    </div>
    <iframe id="game-frame"></iframe>
</div>

<script>
    // –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–µ–π
    let gameLevels = [
        { name: "–£—Ä–æ–≤–µ–Ω—å 1", questions: [{text: "2 + 2 = ?", answers: ["4", "22", "5"], correct: 0}] }
    ];

    function addLevel() {
        gameLevels.push({ name: `–£—Ä–æ–≤–µ–Ω—å ${gameLevels.length + 1}`, questions: [{text: "–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å", answers: ["–î–∞", "–ù–µ—Ç", "–ú–±"], correct: 0}] });
        renderLevelList();
        updatePreview();
    }

    function renderLevelList() {
        const list = document.getElementById('levelsList');
        list.innerHTML = gameLevels.map((l, i) => `
            <div class="level-item">
                ${l.name} (${l.questions.length} –≤–æ–ø—Ä.)
            </div>
        `).join('');
    }

    function updatePreview() {
        const frame = document.getElementById('game-frame');
        const bg = document.getElementById('bgSelect').value === 'custom' ? document.getElementById('customBg').value : document.getElementById('bgSelect').value;
        const char = document.getElementById('charSelect').value;
        const panel = document.getElementById('panelColor').value;
        const neon = document.getElementById('neonGlow').checked ? '0 0 15px' : 'none';
        const textColor = document.getElementById('fontColor').value;
        const fSize = document.getElementById('fontSize').value;
        const timer = document.getElementById('gameTimer').value;
        const winT = document.getElementById('winText').value;
        const loseT = document.getElementById('loseText').value;

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∏–≥—Ä—ã —Å –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
        const gameCode = `
<!DOCTYPE html>
<html>
<head>
    <style>
        :root { --neon: ${document.getElementById('panelColor').value}; --accent: #7cf9ff; }
        body { margin: 0; font-family: Arial; background: #000; color: ${textColor}; overflow: hidden; font-size: ${fSize}px; }
        #BG { position: fixed; inset: 0; background: url('${bg}') center/cover; z-index: 0; }
        .panel { background: ${panel}ee; border: 2px solid var(--accent); box-shadow: ${neon} var(--accent); border-radius: 15px; padding: 20px; }
        #FROG { position: absolute; bottom: 20%; left: 100px; width: 80px; height: 80px; background: url('${char}') no-repeat center/contain; z-index: 10; transition: 0.3s; }
        #QUESTION { position: relative; z-index: 5; text-align: center; margin-top: 50px; background: ${panel}cc; padding: 20px; }
        #TIMER { position: absolute; top: 20px; right: 20px; background: ${panel}; border: 2px solid var(--accent); padding: 10px; border-radius: 50%; box-shadow: ${neon} var(--accent); }
    </style>
</head>
<body>
    <div id="BG"></div>
    <div id="TIMER">${timer}</div>
    <div id="QUESTION">
        <h1>Leap & Learn</h1>
        <p>–ù–∞–∂–º–∏ START –¥–ª—è —Ç–µ—Å—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</p>
        <button style="padding: 15px 30px; font-size: 20px; cursor: pointer;">START</button>
    </div>
    <div id="FROG"></div>
    <script>
        // –¢—É—Ç –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥ —Ç–≤–æ–∏ —É—Ä–æ–≤–Ω–∏
        const LEVELS = ${JSON.stringify(gameLevels)};
        console.log("–ò–≥—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å " + LEVELS.length + " —É—Ä–æ–≤–Ω—è–º–∏");
    <\/script>
</body>
</html>`;

        frame.srcdoc = gameCode;
    }

    function copyCode() {
        const frame = document.getElementById('game-frame');
        navigator.clipboard.writeText(frame.srcdoc);
        alert("–ö–æ–¥ –∏–≥—Ä—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –¢–µ–ø–µ—Ä—å –µ–≥–æ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ Genially –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ .html");
    }

    // –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
    renderLevelList();
    updatePreview();

    // –°–ª–µ–¥–∏–º –∑–∞ –≤—ã–±–æ—Ä–æ–º —Ñ–æ–Ω–∞
    document.getElementById('bgSelect').addEventListener('change', function() {
        document.getElementById('customBg').style.display = this.value === 'custom' ? 'block' : 'none';
    });
</script>

</body>
</html>
